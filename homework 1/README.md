第一次作业 井字棋游戏 作业文档

这次作业的主要内容是是一个空的游戏对象和一个脚本资源文件，之后将脚本资源附加到该游戏对象上即可。

游戏的逻辑比较简单。

这里我设置了两种不同的模式，一个是单人的人机对抗模式，只是这个模式下电脑是随机走的。另一个是双人对抗模式。



首先 通过分析可以知道这个游戏主要有两个模式三个场景，

两个模式是：单人模式和双人模式。

三个场景是：一个是开始游戏场景，另一个是游戏的游玩场景，最后一个是玩家输赢的场景。

其中第一个场景可以转换到第二个场景，不可以转换到第三个，第二个可以转换到第一个和第三个，第三个只可以转换到第一个。

分析可知两个模式的三个场景是一样的，场景转换的逻辑也是一样的。所以我使用了两个变量来区别和转换这三个场景。

state变量区别第二个和第三个场景，当state=0时说明还在游玩场景，这时是可以下棋子的，而state = 1 或state = 2说明在第三个场景，不可以再下棋子了，之后只能转换到第一个场景。

reset变量用来从第二个和第三个场景转换到第一个场景，即从新开始游戏，当reset按钮被按下时棋盘上的棋子全部清空。

第一个场景转换到第二个场景是自动的，只要点击棋盘下棋即可。从第二个场景转换到第三个场景则需要游戏对棋盘上的棋子进行判断。

最后还有一个选择单双人的问题，可以在任何场景下点击单双人模式按钮之后清空棋盘回到第一个场景即可。这里使用两个变量singlemode 和doublemode



OnGui函数主要的功能就是画出棋盘和按钮，按钮是固定的。界面上有三个按钮，reset、single mode 和double mode 分别对应前面的三个变量。画棋盘则是调用一个drawgame函数来画棋盘，并且判断是否可以下棋。以及判断是否要转换到第三个场景



游戏中使用一个3×3数组map来存储棋盘的状态，0代表空，1代表×，2代表O。在drawgame函数中每次改变一个数组元素的状态需要先判断state的值，即判断是否位于第二个场景。

reset函数用于从第二三个场景中转换到第一个场景，该函数将map数组数值全部设置为0；



在drawgame函数每走一步棋子就判断是否有输赢出现。使用check函数来判断。如果有则设置state的数值，转换到第三个模式。



在第二个场景中还需要区分单人模式和双人模式，如果是单人模式则在每走一步之后电脑需要随机生成一步，双人模式则不需要。这里也是在drawgame函数中进行。
